docker volume create my_volume
docker volume ls
docker volume inspect my_volume
docker run -d -v my_volume:/data --name my_container ubuntu
docker exec -it my_container bash
docker volume rm my_volume
docker volume prune
docker run -d -v my_volume:/path/in/container --name new_container ubuntu
docker exec -it new_container bash
docker exec -it new_container ls /path/in/container

docker stop $(docker ps -aq) && docker system prune -a --volumes -f  


docker volume inspect $(docker volume ls -q)

docker volume inspect my_volume

# Get just the mountpoint
docker volume inspect my_volume --format '{{ .Mountpoint }}'

# Get name and mountpoint
docker volume inspect my_volume --format 'Name: {{ .Name }}, Path: {{ .Mountpoint }}'


## Automated Backup with Cron

#!/bin/bash

# Configuration
CONTAINER="my_app"
VOLUME_PATH="/app/data"
BACKUP_DIR="/opt/backups"
RETENTION_DAYS=7

# Create timestamp
TIMESTAMP=$(date +%Y%m%d_%H%M%S)

# Create backup
docker run --rm \
  --volumes-from $CONTAINER \
  -v $BACKUP_DIR:/backup \
  alpine tar czf /backup/backup_${TIMESTAMP}.tar.gz $VOLUME_PATH

# Clean old backups
find $BACKUP_DIR -name "backup_*.tar.gz" -mtime +$RETENTION_DAYS -delete

mysql

# Backup
docker exec mysql_container mysqldump -u username -p password database_name > backup.sql

# Restore
docker exec -i mysql_container mysql -u username -p password database_name < backup.sql

https://github.com/christianlempa/scripts

## 1. Check the original container's mount points
# Inspect the container's mounted volumes
docker inspect <container> | grep -A 5 "Mounts"

# Or more specifically:
docker inspect <container> --format='{{range .Mounts}}{{.Destination}}{{"\n"}}{{end}}'

## 2. Check the container's working directory
# Get the working directory
docker inspect <container> --format='{{.Config.WorkingDir}}'

# Get the complete container config
docker inspect <container> --format='{{json .Config}}' | jq .

## 3. Backup Command

# Backup MySQL data
docker run --rm --volumes-from mysql-container -v $(pwd):/backup busybox tar cvfz /backup/backup.tar.gz /var/lib/mysql

# Backup PostgreSQL data  
docker run --rm --volumes-from postgres-container -v $(pwd):/backup busybox tar cvfz /backup/backup.tar.gz /var/lib/postgresql/data

# If unsure, list volumes from the source container first
docker run --rm --volumes-from <container> busybox ls -la /

duplicati

https://www.youtube.com/watch?v=rchFalToyRA&t=164s